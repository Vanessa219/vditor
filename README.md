<p align="center">
<img alt="Vditor" src="https://b3log.org/images/brand/vditor-128.png" />

<br>
ä¸‹ä¸€ä»£çš„ Markdown ç¼–è¾‘å™¨ï¼Œä¸ºæœªæ¥è€Œæ„å»º
<br><br>
<a title="MIT" target="_blank" href="https://opensource.org/licenses/MIT"><img src="http://img.shields.io/badge/license-MIT-orange.svg?style=flat-square"></a>
<a title="npm bundle size" target="_blank" href="https://www.npmjs.com/package/vditor"><img alt="npm bundle size" src="https://img.shields.io/bundlephobia/minzip/vditor?style=flat-square&color=blueviolet"></a>
<a title="Dependencies" target="_blank" href="https://github.com/Vanessa219/vditor"><img src="https://img.shields.io/david/Vanessa219/vditor.svg?style=flat-square&color=ff96b4"></a>  <br>
<a title="Version" target="_blank" href="https://www.npmjs.com/package/vditor"><img src="https://img.shields.io/npm/v/vditor.svg?style=flat-square"></a>
<a title="Downloads" target="_blank" href="https://www.npmjs.com/package/vditor"><img src="https://img.shields.io/npm/dt/vditor.svg?style=flat-square&color=97ca00"></a><br>
<a title="jsdelivr" target="_blank" href="https://www.jsdelivr.com/package/npm/vditor"><img src="https://data.jsdelivr.com/v1/package/npm/vditor/badge"/></a>
<a title="Hits" target="_blank" href="https://github.com/88250/hits"><img src="https://hits.b3log.org/Vanessa219/vditor.svg"></a> <br><br>
<a title="GitHub Watchers" target="_blank" href="https://github.com/Vanessa219/vditor/watchers"><img src="https://img.shields.io/github/watchers/Vanessa219/vditor.svg?label=Watchers&style=social"></a>  
<a title="GitHub Stars" target="_blank" href="https://github.com/Vanessa219/vditor/stargazers"><img src="https://img.shields.io/github/stars/Vanessa219/vditor.svg?label=Stars&style=social"></a>  
<a title="GitHub Forks" target="_blank" href="https://github.com/Vanessa219/vditor/network/members"><img src="https://img.shields.io/github/forks/Vanessa219/vditor.svg?label=Forks&style=social"></a>  
<a title="Author GitHub Followers" target="_blank" href="https://github.com/vanessa219"><img src="https://img.shields.io/github/followers/vanessa219.svg?label=Followers&style=social"></a>
</p>

## ğŸ’¡ ç®€ä»‹

[Vditor](https://github.com/Vanessa219/vditor) æ˜¯ä¸€æ¬¾æµè§ˆå™¨ç«¯çš„ Markdown ç¼–è¾‘å™¨ï¼Œä½¿ç”¨ TypeScript å®ç°ã€‚æ”¯æŒåŸç”Ÿ JavaScriptã€Vueã€Reactã€Angularã€‚

æ¬¢è¿åˆ° [Vditor å®˜æ–¹è®¨è®ºåŒº](https://hacpai.com/tag/vditor)äº†è§£æ›´å¤šã€‚åŒæ—¶ä¹Ÿæ¬¢è¿å…³æ³¨ B3log å¼€æºç¤¾åŒºå¾®ä¿¡å…¬ä¼—å· `B3logå¼€æº`ï¼š

![b3logos.png](https://img.hacpai.com/file/2019/10/image-d3c00d78.png)

## ğŸ“½ï¸ èƒŒæ™¯

æˆ‘ä»¬åœ¨å¼€å‘ [Sym](https://github.com/88250/symphony) çš„åˆæœŸæ˜¯ç›´æ¥ä½¿ç”¨ WYSIWYG å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ã€‚é‚£æ—¶å€™åŸºäº HTML çš„ç¼–è¾‘å™¨éå¸¸æµè¡Œï¼Œé¡¹ç›®ä¸­å¼•ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œä¹Ÿç¬¦åˆç”¨æˆ·å½“æ—¶çš„ä½¿ç”¨ä¹ æƒ¯ã€‚

åæ¥ï¼ŒMarkdown çš„å´›èµ·é€æ­¥æ”¹å˜äº†å¤§å®¶çš„æ’ç‰ˆæ–¹å¼ã€‚å†åŠ ä¸Šæˆ‘ä»¬å…¶ä»–å‡ ä¸ªé¡¹ç›®éƒ½æ˜¯é¢å‘ç¨‹åºå‘˜ç”¨æˆ·çš„ï¼Œæ‰€ä»¥è¿ç§»åˆ° md ä¸Šä¹Ÿæ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚æˆ‘ä»¬é€‰æ‹©äº† [CodeMirror](https://github.com/codemirror/CodeMirror)ï¼Œè¿™æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç¼–è¾‘å™¨ï¼Œå®ƒå¯¹å¼€å‘è€…æä¾›äº†ä¸°å¯Œçš„ç¼–ç¨‹æ¥å£ï¼Œå¯¹å„ç§æµè§ˆå™¨çš„å…¼å®¹æ€§ä¹Ÿæ¯”è¾ƒå¥½ã€‚

å†åæ¥ï¼Œéšç€æˆ‘ä»¬é¡¹ç›®ä¸šåŠ¡éœ€æ±‚æ–¹é¢çš„æ²‰æ·€ï¼Œä½¿ç”¨ CodeMirror æœ‰æ—¶å€™ä¼šæ„Ÿåˆ°æ¯”è¾ƒâ€œç¬¨é‡â€ã€‚æ¯”å¦‚è¦å®ç° @è‡ªåŠ¨å®Œæˆç”¨æˆ·ååˆ—è¡¨ã€æ’å…¥ Emojiã€ä¸Šä¼ æ–‡ä»¶ç­‰å°±éœ€è¦æ¯”è¾ƒæ·±å…¥çš„äºŒæ¬¡å¼€å‘ï¼Œè€Œè¿™äº›ä¸šåŠ¡éœ€æ±‚æ°æ°æ˜¯å¾ˆå¤šé¡¹ç›®åœºæ™¯å…±æœ‰ä¸”å¿…å¤‡çš„ã€‚

ç»ˆäºï¼Œæˆ‘ä»¬å†³å®šå¼€å§‹åœ¨ Sym ä¸­è‡ªå·±å®ç°ç¼–è¾‘å™¨ã€‚éšç€å‡ ä¸ªç‰ˆæœ¬çš„è¿­ä»£ï¼ŒSym çš„ç¼–è¾‘å™¨ä¹Ÿæ—¥è¶‹æˆç†Ÿã€‚åœ¨æˆ‘ä»¬è¿è¥çš„ç¤¾åŒº[é»‘å®¢æ´¾](https://hacpai.com)ä¸Šé™†ç»­æœ‰äººé—®æˆ‘ä»¬æ˜¯å¦èƒ½å°†ç¼–è¾‘å™¨å•ç‹¬æŠ½ç¦»å‡ºæ¥æä¾›ç»™å¤§å®¶ä½¿ç”¨ã€‚ä¸æ­¤åŒæ—¶ï¼Œæˆ‘ä»¬çš„å‰ç«¯ä¸»ç¨‹ [V](https://hacpai.com/member/Vanessa) åŒå­¦å¯¹äºç»´æŠ¤åˆ†æ•£åœ¨å„ä¸ªé¡¹ç›®ä¸­çš„ç¼–è¾‘å™¨ä¹Ÿæ„Ÿåˆ°æœ‰ç‚¹åŠ›ä¸ä»å¿ƒï¼Œå¤–åŠ å¯¹ TypeScript çš„å¥½æ„Ÿï¼Œæ‰€ä»¥å°±å†³å®šä½¿ç”¨ ts æ¥å®ç°ä¸€ä¸ªå…¨æ–°çš„æµè§ˆå™¨ç«¯ md ç¼–è¾‘å™¨ã€‚

äºæ˜¯ï¼ŒVditor å°±è¿™æ ·è¯ç”Ÿäº†ã€‚

## âœ¨  ç‰¹æ€§

* æ”¯æŒä¸‰ç§ç¼–è¾‘æ¨¡å¼ï¼šæ‰€è§å³æ‰€å¾—ã€å³æ—¶æ¸²æŸ“ã€åˆ†å±é¢„è§ˆ
* æ”¯æŒä»»åŠ¡åˆ—è¡¨ã€atã€å›¾è¡¨ã€æµç¨‹å›¾ã€ç”˜ç‰¹å›¾ã€æ—¶åºå›¾ã€äº”çº¿è°±ã€[å¤šåª’ä½“](https://github.com/Vanessa219/vditor/issues/5)ã€è¯­éŸ³é˜…è¯»ã€æ ‡é¢˜é”šç‚¹æ¸²æŸ“
* æ”¯æŒ[**å¿«æ·é”®**](https://hacpai.com/article/1582778815353)æ“ä½œ
* æ”¯æŒ Markdown **æ ¼å¼åŒ–**ï¼Œ Markdown **è¯­æ³•æ ‘**å®æ—¶æ¸²æŸ“
* **è¡¨æƒ…**è‡ªåŠ¨è¡¥å…¨ï¼Œè®¾ç½®å¸¸ç”¨è¡¨æƒ…ï¼Œæ”¯æŒè¡¨æƒ…è‡ªå®šä¹‰
* è‡ªå®šä¹‰**å·¥å…·æ **æŒ‰é’®ã€æç¤ºã€æ’å…¥å­—ç¬¦ã€å¿«æ·é”®ï¼Œæ”¯æŒå·¥å…·æ æ·»åŠ æŒ‰é’®
* å¯ä½¿ç”¨æ‹–æ‹½ã€å‰ªåˆ‡æ¿ç²˜è´´ä¸Šä¼ ï¼Œæ˜¾ç¤ºå®æ—¶ä¸Šä¼ è¿›åº¦ï¼Œæ”¯æŒ CORS è·¨åŸŸä¸Šä¼ 
* å®æ—¶ä¿å­˜å†…å®¹ï¼Œé˜²æ­¢æ„å¤–ä¸¢å¤±
* å½•éŸ³æ”¯æŒï¼Œç”¨æˆ·å¯ç›´æ¥**å‘å¸ƒè¯­éŸ³**
* ç²˜è´´ HTML **è‡ªåŠ¨è½¬æ¢**ä¸º Markdownï¼Œå¦‚ç²˜è´´ä¸­åŒ…å«å¤–é“¾å›¾ç‰‡å¯é€šè¿‡æŒ‡å®šæ¥å£ä¸Šä¼ åˆ°æœåŠ¡å™¨
* æä¾›å®æ—¶é¢„è§ˆã€æ»šåŠ¨åŒæ­¥å®šä½
* æ”¯æŒä¸»çª—å£å¤§å°æ‹–æ‹½ã€å­—ç¬¦è®¡æ•°
* å¤šä¸»é¢˜æ”¯æŒã€å†…ç½®é»‘ç™½ä¸¤å¥—
* å¤šè¯­è¨€æ”¯æŒã€å†…ç½®ä¸­è‹±æ–‡
* æ”¯æŒä¸»æµæµè§ˆå™¨å’Œç§»åŠ¨ç«¯

![demo](https://img.hacpai.com/file/2020/02/%E6%88%AA%E5%9B%BE%E4%B8%93%E7%94%A8-ef21ef12.png)

![render](https://img.hacpai.com/file/2019/12/6434107230ebd600d01a11e98e8ab30c24364b58-2f777b2d.png)

## ğŸ”® ç¼–è¾‘æ¨¡å¼

### æ‰€è§å³æ‰€å¾—

*æ‰€è§å³æ‰€å¾—*æ¨¡å¼å¯¹ä¸ç†Ÿæ‚‰ Markdown çš„ç”¨æˆ·è¾ƒä¸ºå‹å¥½ï¼Œç†Ÿæ‚‰ Markdown çš„è¯ä¹Ÿå¯ä»¥æ— ç¼ä½¿ç”¨ã€‚

![vditor-wysiwyg](https://img.hacpai.com/file/2020/03/wysiwyg-94c13d78.gif)

### å³æ—¶æ¸²æŸ“

*å³æ—¶æ¸²æŸ“*æ¨¡å¼å¯¹ç†Ÿæ‚‰ Typora çš„ç”¨æˆ·åº”è¯¥ä¸ä¼šæ„Ÿåˆ°é™Œç”Ÿï¼Œç†è®ºä¸Šè¿™æ˜¯æœ€ä¼˜é›…çš„ Markdown ç¼–è¾‘æ–¹å¼ã€‚

![vditor-ir](https://img.hacpai.com/file/2020/03/ir-6d784c1f.gif)

### åˆ†å±é¢„è§ˆ

ä¼ ç»Ÿçš„*åˆ†å±é¢„è§ˆ*æ¨¡å¼é€‚åˆå¤§å±ä¸‹çš„ Markdown ç¼–è¾‘ã€‚

![vditor-sv](https://img.hacpai.com/file/2020/03/sv-776055ce.gif)

## ğŸ—ƒ æ¡ˆä¾‹

* [ğŸ¶ Sym](https://github.com/88250/symphony) ä¸€æ¬¾ç”¨ Java å®ç°çš„ç°ä»£åŒ–ç¤¾åŒºï¼ˆè®ºå›/BBS/ç¤¾äº¤ç½‘ç»œ/åšå®¢ï¼‰å¹³å°
* [ğŸ¸ Solo](https://github.com/88250/solo) & [ğŸ·Pipe](https://github.com/88250/pipe) B3log åˆ†å¸ƒå¼ç¤¾åŒºçš„åšå®¢ç«¯èŠ‚ç‚¹ï¼Œæ¬¢è¿åŠ å…¥ä¸‹ä¸€ä»£ç¤¾åŒºç½‘ç»œ
* [ğŸ“• é“¾æ»´ç¬”è®°](https://github.com/88250/liandi) ä¸€æ¬¾æ¡Œé¢ç«¯ç¬”è®°åº”ç”¨ï¼Œæ”¯æŒ Windowsã€Mac å’Œ Linux
* [ğŸŒŸ Starfire](https://github.com/88250/starfire) ä¸€ä¸ªåˆ†å¸ƒå¼çš„å†…å®¹åˆ†äº«è®¨è®ºç¤¾åŒºï¼Œæ˜Ÿæ˜Ÿä¹‹ç«å¯ä»¥ç‡åŸ
* [ğŸ“ Arya](https://github.com/nicejade/markdown-online-editor) åŸºäº Vueã€Vditorï¼Œæ‰€æ„å»ºçš„åœ¨çº¿ Markdown ç¼–è¾‘å™¨

## ğŸ› ï¸ ä½¿ç”¨æ–‡æ¡£

### CommonJS

* å®‰è£…ä¾èµ–

```shell
npm install vditor --save
```

* åœ¨ä»£ç ä¸­å¼•å…¥å¹¶åˆå§‹åŒ–å¯¹è±¡ï¼Œå¯å‚è€ƒ [index.js](https://github.com/Vanessa219/vditor/blob/master/demo/index.js)

```ts
import Vditor from 'vditor'
import "~vditor/src/assets/scss/index" // æˆ–è€…ä½¿ç”¨ dark

const vditor = new Vditor(id, {options...})
```

### HTML script

* åœ¨ HTML ä¸­æ’å…¥ CSS å’Œ jsï¼Œå¯å‚è€ƒ [static.html](https://github.com/Vanessa219/vditor/blob/master/demo/static.html)

```html
<!-- âš ï¸ç”Ÿäº§ç¯å¢ƒè¯·æŒ‡å®šç‰ˆæœ¬å·ï¼Œå¦‚ https://cdn.jsdelivr.net/npm/vditor@x.x.x/dist... -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vditor/dist/index.css" />
<script src="https://cdn.jsdelivr.net/npm/vditor/dist/index.min.js" defer></script>
```

### ç¤ºä¾‹ä»£ç 

* [CommonJS](https://github.com/Vanessa219/vditor/blob/master/demo/index.js)
* [HTML script](https://github.com/Vanessa219/vditor/blob/master/demo/static.html)
* [Preview](https://github.com/Vanessa219/vditor/blob/master/demo/static-preview.html)
* [Vue](https://github.com/88250/pipe/blob/master/console/pages/admin/articles/post/index.vue)

### ä¸»é¢˜

* æ”¯æŒé»‘ç™½ä¸¤å¥—ä¸»é¢˜ï¼šclassic/dark
* å‚è€ƒç°æœ‰æ ·å¼åä½¿ç”¨è‡ªå·±å¼€å‘çš„ scss/css è¿›è¡Œæ ·å¼çš„å®Œå…¨è‡ªå®šåˆ¶
* å¯é€šè¿‡ä¿®æ”¹ [index.scss](https://github.com/Vanessa219/vditor/blob/master/src/assets/scss/index.scss) ä¸­çš„å˜é‡å¯¹ä¸»é¢˜é¢œè‰²è¿›è¡Œå®šåˆ¶
* åœ¨å†…å®¹æ˜¾ç¤ºå…ƒç´ ä¸Šæ·»åŠ  `class="vditor-reset"` ï¼ˆç»å…¸ä¸»é¢˜ï¼‰ æˆ– `class="vditor-reset vditor-reset--dark"`ï¼ˆé»‘è‰²ä¸»é¢˜ï¼‰ å±æ€§å¯å¯¹å†…å®¹è¿›è¡Œæ›´ä¸ºå‹å¥½çš„å±•ç¤º

### API

#### id

å¯å¡«å…¥å…ƒç´  `id` æˆ–å…ƒç´ è‡ªèº« `HTMLElement`

âš ï¸ï¼šå½“å¡«å…¥å…ƒç´ è‡ªèº«çš„ `HTMLElement` æ—¶éœ€è®¾ç½® `options.cache.id` æˆ–å°† `options.cache.enable` è®¾ç½®ä¸º `false`

#### options

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| after | ç¼–è¾‘å™¨å¼‚æ­¥æ¸²æŸ“å®Œæˆåçš„å›è°ƒæ–¹æ³• | undefined |
| height | ç¼–è¾‘å™¨æ€»é«˜åº¦ | 'auto' |
| width | ç¼–è¾‘å™¨æ€»å®½åº¦ï¼Œæ”¯æŒ % | 'auto' |
| placeholder | è¾“å…¥åŒºåŸŸä¸ºç©ºæ—¶çš„æç¤º | '' |
| lang | å¤šè¯­è¨€ï¼šen_US, zh_CN | 'zh_CN' |
| counter | è®¡æ•°å™¨ | 0 |
| input | è¾“å…¥åè§¦å‘ (value: string, previewElement?: HTMLElement): void | - |
| focus | èšç„¦åè§¦å‘ (value: string): void | - |
| blur | å¤±ç„¦åè§¦å‘ (value: string): void | - |
| esc | <kbd>esc</kbd> æŒ‰ä¸‹åè§¦å‘ (value: string): void | - |
| ctrlEnter | <kbd>âŒ˜/ctrl+enter</kbd> æŒ‰ä¸‹åè§¦å‘ (value: string): void | - |
| select | ç¼–è¾‘å™¨ä¸­é€‰ä¸­æ–‡å­—åè§¦å‘ (value: string): void | - |
| tab | tab é”®æ“ä½œå­—ç¬¦ä¸²ï¼Œæ”¯æŒ `\t` åŠä»»æ„å­—ç¬¦ä¸² | - |
| typewriterMode | æ˜¯å¦å¯ç”¨æ‰“å­—æœºæ¨¡å¼ | false |
| cdn | é…ç½®è‡ªå»º CDN åœ°å€ | `https://cdn.jsdelivr.net/npm/vditor@${VDITOR_VERSION}` |
| mode | å¯é€‰æ¨¡å¼ï¼š"sv", "ir", "wysiwyg" | 'wysiwyg' |
| debugger | æ˜¯å¦æ˜¾ç¤ºæ—¥å¿— | false |
| value | ç¼–è¾‘å™¨åˆå§‹åŒ–å€¼ | '' |
| theme | ä¸»é¢˜ï¼š"classic"ï¼Œ"dark" | 'classic' |
| hideToolbar | æ˜¯å¦éšè—å·¥å…·æ  | false |

#### options.toolbar

* å·¥å…·æ ï¼Œå¯ä½¿ç”¨ name è¿›è¡Œç®€å†™ï¼š `toolbar: ['emoji', 'br', 'bold', '|', 'line']` ã€‚é»˜è®¤å€¼å‚è§ [src/ts/util/Options.ts](https://github.com/Vanessa219/vditor/blob/master/src/ts/util/Options.ts)
* name å¯æšä¸¾ä¸ºï¼š `emoji` , `headings` , `bold` , `italic` , `strike` , `|` , `line` , `quote` , `list` , `ordered-list` , `check` , `code` , `inline-code` , `undo` , `redo` , `upload` , `link` , `table` , `record` , `edit-mode` , `both` , `preview` , `format` , `fullscreen` , `devtools` , `info` , `help` , `br`
* å½“ `name` ä¸åœ¨æšä¸¾ä¸­æ—¶ï¼Œå¯ä»¥æ·»åŠ è‡ªå®šä¹‰æŒ‰é’®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š

```js
{  
 hotkey: 'âŒ˜-â‡§-f',  
 name: 'format',  
 tipPosition: 'ne',  
 tip: 'format',  
 icon: '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="768" height="768" viewBox="0 0 768 768"><path d="M342 426v-84h426v84h-426zM342 256v-86h426v86h-426zM0 0h768v86h-768v-86zM342 598v-86h426v86h-426zM0 214l170 170-170 170v-340zM0 768v-86h768v86h-768z"></path></svg>',  
 click: () => {  
   alert('custom toolbar')  
 },  
}
```

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| name | å”¯ä¸€æ ‡ç¤º | - |
| icon | svg å›¾æ ‡ | - |
| tip | æç¤º | - |
| tipPosition | æç¤ºä½ç½®ï¼šne, nw | - |
| hotkey | å¿«æ·é”®ï¼Œæ”¯æŒ<kbd> âŒ˜/ctrl-key </kbd>  æˆ–  <kbd> âŒ˜/ctrl-â‡§/shif-key </kbd>  æ ¼å¼çš„é…ç½®ï¼Œä¸æ”¯æŒ wysiwyg æ¨¡å¼ | - |
| suffix | æ’å…¥ç¼–è¾‘å™¨ä¸­çš„åç¼€ | - |
| prefix | æ’å…¥ç¼–è¾‘å™¨ä¸­çš„å‰ç¼€ | - |
| click | è‡ªå®šä¹‰æŒ‰é’®ç‚¹å‡»æ—¶è§¦å‘çš„äº‹ä»¶ ():viod | - |

#### options.cache

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦ä½¿ç”¨ localStorage è¿›è¡Œç¼“å­˜ | true |
| id | ç¼“å­˜ keyï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå…ƒç´ ä¸”å¯ç”¨ç¼“å­˜æ—¶**å¿…å¡«** | - |

#### options.preview

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| delay | é¢„è§ˆ debounce æ¯«ç§’é—´éš” | 1000 |
| maxWidth | é¢„è§ˆåŒºåŸŸæœ€å¤§å®½åº¦ | 768 |
| mode | æ˜¾ç¤ºæ¨¡å¼ï¼š'both', 'editor', 'preview' | 'both' |
| url | md è§£æè¯·æ±‚ | - |
| parse | é¢„è§ˆå›è°ƒ (element: HTMLElement): void | - |
| transform | æ¸²æŸ“ä¹‹å‰å›è°ƒ(html: string): string | - |

#### options.preview.hljs

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦å¯ç”¨ä»£ç é«˜äº® | true |
| style | å¯é€‰å€¼å‚è§[Chroma](https://xyproto.github.io/splash/docs/longer/all.html) | `github` |
| lineNumber | æ˜¯å¦å¯ç”¨è¡Œå· | false |

#### options.preview.markdown

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| autoSpace | è‡ªåŠ¨ç©ºæ ¼ | false |
| fixTermTypo | è‡ªåŠ¨çŸ«æ­£æœ¯è¯­ | false |
| chinesePunct | è‡ªåŠ¨çŸ«æ­£æ ‡ç‚¹ | false |
| toc | æ’å…¥ç›®å½• | false |
| footnotes | è„šæ³¨ | true |

#### options.preview.math

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| inlineDigit | å†…è”æ•°å­¦å…¬å¼èµ·å§‹ $ åæ˜¯å¦å…è®¸æ•°å­— | false |
| macros | ä½¿ç”¨ MathJax æ¸²æŸ“æ—¶ä¼ å…¥çš„å®å®šä¹‰ | {} |
| engine | æ•°å­¦å…¬å¼æ¸²æŸ“å¼•æ“ï¼š"KaTeX", "MathJax" | 'KaTeX' |

#### options.hint

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| delay | æç¤º debounce æ¯«ç§’é—´éš” | 200 |
| emoji | é»˜è®¤è¡¨æƒ…ï¼Œå¯ä»[lute/emoji_map](https://github.com/88250/lute/blob/master/emoji_map.go) ä¸­é€‰å–ï¼Œä¹Ÿå¯è‡ªå®šä¹‰ | { '+1': 'ğŸ‘', '-1': 'ğŸ‘', 'heart': 'â¤ï¸ ', 'cold_sweat': 'ğŸ˜°' } |
| emojiTail | å¸¸ç”¨è¡¨æƒ…æç¤º | - |
| emojiPath | è¡¨æƒ…å›¾ç‰‡åœ°å€ | `https://cdn.jsdelivr.net/npm/vditor@${VDITOR_VERSION}/dist/images/emoji` |
| at | @ç”¨æˆ·å›è°ƒï¼Œ(value: string): Array\<any> ï¼Œéœ€åŒæ­¥è¿”å›æ•°ç»„[{value: '', html: ''}] | - |

#### options.upload

* æ–‡ä»¶ä¸Šä¼ çš„æ•°æ®ç»“æ„å¦‚ä¸‹ã€‚åç«¯è¿”å›çš„æ•°æ®ç»“æ„ä¸ä¸€è‡´æ—¶ï¼Œå¯ä½¿ç”¨ `format` è¿›è¡Œè½¬æ¢ã€‚

```js
// POST data  
xhr.send(formData);  // formData = FormData.append("file[]", File)  
// return data  
{  
 "msg": "",  
 "code": 0,  
 "data": {  
 "errFiles": ['filename', 'filename2'],  
 "succMap": {  
   "filename3": "filepath3",  
   "filename3": "filepath3"  
   }  
 }  
}
```

* ä¸ºäº†é˜²æ­¢ç«™å¤–å›¾ç‰‡å¤±æ•ˆï¼Œ `linkToImgUrl` å¯å°†å‰ªè´´æ¿ä¸­çš„ç«™å¤–å›¾ç‰‡åœ°å€ä¼ åˆ°æœåŠ¡å™¨ç«¯è¿›è¡Œä¿å­˜å¤„ç†ï¼Œå…¶æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š

```js
// POST data  
xhr.send(JSON.stringify({url: src})); // src ä¸ºç«™å¤–å›¾ç‰‡åœ°å€  
// return data  
{  
 msg: '',  
 code: 0,  
 data : {  
   originalURL: '',  
   url: ''  
 }  
}
```

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| url | ä¸Šä¼  url | '' |
| max | ä¸Šä¼ æ–‡ä»¶æœ€å¤§ Byte | 10 * 1024 * 1024 |
| linkToImgUrl | å‰ªåˆ‡æ¿ä¸­åŒ…å«å›¾ç‰‡åœ°å€æ—¶ï¼Œä½¿ç”¨æ­¤ url é‡æ–°ä¸Šä¼  | '' |
| success | ä¸Šä¼ æˆåŠŸå›è°ƒ (editor: HTMLPreElement, msg: string): void | - |
| error | ä¸Šä¼ å¤±è´¥å›è°ƒ (msg: string): void | - |
| token | CORS ä¸Šä¼ éªŒè¯ï¼Œå¤´ä¸º X-Upload-Token | - |
| withCredentials | è·¨ç«™ç‚¹è®¿é—®æ§åˆ¶ | false |
| headers | è¯·æ±‚å¤´è®¾ç½® | - |
| filename | æ–‡ä»¶åå®‰å…¨å¤„ç† (name: string): string | name => name.replace(/\W/g, '') |
| accept | æ–‡ä»¶ä¸Šä¼ ç±»å‹ï¼ŒåŒ[input accept](https://www.w3schools.com/tags/att_input_accept.asp) | - |
| validate | æ ¡éªŒï¼ŒæˆåŠŸæ—¶è¿”å› true å¦åˆ™è¿”å›é”™è¯¯ä¿¡æ¯ (files: File[]) => string\| boolean | - |
| handler | è‡ªå®šä¹‰ä¸Šä¼ ï¼Œå½“å‘ç”Ÿé”™è¯¯æ—¶è¿”å›é”™è¯¯ä¿¡æ¯ (files: File[]) => string\| null | - |
| format | å¯¹æœåŠ¡ç«¯è¿”å›çš„æ•°æ®è¿›è¡Œè½¬æ¢ï¼Œä»¥æ»¡è¶³å†…ç½®çš„æ•°æ®ç»“æ„ (files: File[], responseText: string): string | - |
| file | å°†ä¸Šä¼ çš„æ–‡ä»¶å¤„ç†åå†è¿”å› (files: File[]): File[] | - |

#### options.resize

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| enable | æ˜¯å¦æ”¯æŒå¤§å°æ‹–æ‹½ | false |
| position | æ‹–æ‹½æ ä½ç½®ï¼štop, bottom | 'bottom' |
| after | æ‹–æ‹½ç»“æŸçš„å›è°ƒ (height: number): void | - |

#### options.classes

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| preview | é¢„è§ˆå…ƒç´ ä¸Šçš„ className | '' |

#### options.keymap

|   | è¯´æ˜ | é»˜è®¤å€¼ |
| - | - | - |
| deleteLine | åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œæˆ–é€‰ä¸­çš„è¡Œ | <kbd> âŒ˜-Backspace </kbd> |
| duplicate | å¤åˆ¶å½“å‰è¡Œæˆ–é€‰ä¸­çš„å†…å®¹ | <kbd> âŒ˜-d </kbd> |

#### methods

|   | è¯´æ˜ |
| - | - |
| getValue() | è·å–ç¼–è¾‘å™¨å†…å®¹ |
| getHTML() | è·å–é¢„è§ˆåŒºå†…å®¹ |
| insertValue(value: string, render = true) | åœ¨ç„¦ç‚¹å¤„æ’å…¥å†…å®¹ï¼Œå¹¶é»˜è®¤è¿›è¡Œ Markdown æ¸²æŸ“ |
| focus() | èšç„¦åˆ°ç¼–è¾‘å™¨ |
| blur() | è®©ç¼–è¾‘å™¨å¤±ç„¦ |
| disabled() | ç¦ç”¨ç¼–è¾‘å™¨ |
| enable() | è§£é™¤ç¼–è¾‘å™¨ç¦ç”¨ |
| setSelection(start: number, end: number) | é€‰ä¸­ä» start å¼€å§‹åˆ° end ç»“æŸçš„å­—ç¬¦ä¸²ï¼Œä¸æ”¯æŒ wysiwyg æ¨¡å¼ |
| getSelection():string | è¿”å›é€‰ä¸­çš„å­—ç¬¦ä¸² |
| setValue(markdown: string) | è®¾ç½®ç¼–è¾‘å™¨å†…å®¹ |
| renderPreview(value?: string) | è®¾ç½®é¢„è§ˆåŒºåŸŸå†…å®¹ |
| getCursorPosition():{top: number, left: number} | è·å–ç„¦ç‚¹ä½ç½® |
| deleteValue() | åˆ é™¤é€‰ä¸­å†…å®¹ |
| updateValue(value: string) | æ›´æ–°é€‰ä¸­å†…å®¹ |
| isUploading() | ä¸Šä¼ æ˜¯å¦è¿˜åœ¨è¿›è¡Œä¸­ |
| clearCache() | æ¸…é™¤ç¼“å­˜ |
| disabledCache() | ç¦ç”¨ç¼“å­˜ |
| enableCache() | å¯ç”¨ç¼“å­˜ |
| html2md(value: string) | HTML è½¬ md |
| tip(text:string, time:number) | æ¶ˆæ¯æç¤ºã€‚time ä¸º 0 å°†ä¸€ç›´æ˜¾ç¤º |
| setPreviewMode(mode: string) | è®¾ç½®é¢„è§ˆæ¨¡å¼ã€‚mode: 'both', 'editor', 'preview' |
| setTheme(theme: "dark"\|"classic") | è®¾ç½®ä¸»é¢˜ |

#### static methods

* ä¸éœ€è¦è¿›è¡Œç¼–è¾‘æ“ä½œæ—¶ï¼Œä»…éœ€å¼•å…¥ [`method.min.js`](https://cdn.jsdelivr.net/npm/vditor/dist/) åå¦‚ä¸‹ç›´æ¥è°ƒç”¨

```js
Vditor.mermaidRender(document)
```

```js
import VditorPreview from 'vditor/dist/method.min'  
VditorPreview.mermaidRender(document)
```

* éœ€è¦å¯¹é¡µé¢ä¸­çš„ Markdown è¿›è¡Œæ¸²æŸ“æ—¶å¯ç›´æ¥è°ƒç”¨ `preview` æ–¹æ³•ï¼Œå‚æ•°å¦‚ä¸‹ï¼š

```js
previewElement: HTMLDivElement,   // ä½¿ç”¨è¯¥å…ƒç´ è¿›è¡Œæ¸²æŸ“
markdown: string,  // éœ€è¦æ¸²æŸ“çš„ markdown åŸæ–‡
options?: IPreviewOptions {  
 anchor?: boolean;  // ä¸ºæ ‡é¢˜æ·»åŠ é”šç‚¹
 theme?: string;  // ä¸»é¢˜ï¼š'classic' | 'dark'ï¼Œé»˜è®¤ä¸º 'classic'
 customEmoji?: { [key: string]: string };    // è‡ªå®šä¹‰ emojiï¼Œé»˜è®¤ä¸º {}  
 lang?: (keyof II18nLang);    // è¯­è¨€ï¼Œé»˜è®¤ä¸º 'zh_CN'  
 emojiPath?: string;    // è¡¨æƒ…å›¾ç‰‡è·¯å¾„ 
 hljs?: IHljs // å‚è§ options.preview.hljs 
 speech?: {  // å¯¹é€‰ä¸­åçš„å†…å®¹è¿›è¡Œé˜…è¯»
  enable?: boolean
 }
 math?: IMath // æ•°å­¦å…¬å¼æ¸²æŸ“é…ç½®
 transform?(html: string): string // åœ¨æ¸²æŸ“å‰è¿›è¡Œçš„å›è°ƒæ–¹æ³•
 cdn?: string // è‡ªå»º CDN åœ°å€
}
```

* âš ï¸ `method.min.js`  å’Œ `index.min.js` ä¸å¯åŒæ—¶å¼•å…¥

|   | è¯´æ˜ |
| - | - |
| mermaidRender(element: HTMLElement, className = ".language-mermaid", cdn = options.cdn) | è½¬æ¢ element ä¸­ class ä¸º className çš„å…ƒç´ ä¸ºæµç¨‹å›¾/æ—¶åºå›¾/ç”˜ç‰¹å›¾ |
| codeRender(element: HTMLElement, lang: (keyof II18nLang) = "zh_CN") | ä¸º element ä¸­çš„ä»£ç å—æ·»åŠ å¤åˆ¶æŒ‰é’® |
| chartRender(element: (HTMLElement\| Document) = document, cdn = options.cdn) | å›¾è¡¨æ¸²æŸ“ |
| abcRender(element: (HTMLElement\| Document) = document, cdn = options.cdn) | äº”çº¿è°±æ¸²æŸ“ |
| md2html(mdText: string, options?: IPreviewOptions): string | Markdown æ–‡æœ¬è½¬æ¢ä¸º HTML |
| preview(previewElement: HTMLDivElement, markdown: string, options?: IPreviewOptions) | é¡µé¢ Markdown æ–‡ç« æ¸²æŸ“ |
| highlightRender(hljsOption?:IHljs, element?: HTMLElement\| Document, cdn = options.cdn) | ä¸º element ä¸­çš„ä»£ç å—è¿›è¡Œé«˜äº®æ¸²æŸ“ |
| mediaRender(element: HTMLElement) | ä¸º[ç‰¹å®šé“¾æ¥](https://github.com/Vanessa219/vditor/issues/7)åˆ†åˆ«æ¸²æŸ“ä¸ºè§†é¢‘ã€éŸ³é¢‘ã€åµŒå…¥çš„ iframe |
| mathRender(element: HTMLElement, options?: {cdn?: string, math?: IMath}) | å¯¹æ•°å­¦å…¬å¼è¿›è¡Œæ¸²æŸ“ |
| speechRender(element: HTMLElement, lang?: (keyof II18nLang)) | å¯¹é€‰ä¸­çš„æ–‡å­—è¿›è¡Œé˜…è¯» |
| graphvizRender(element: HTMLElement, cdn?: string) | å¯¹ graphviz è¿›è¡Œæ¸²æŸ“ |

## ğŸ— å¼€å‘æ–‡æ¡£

### åŸç†ç›¸å…³

* [å…³äºæ‰€è§å³æ‰€å¾— Markdown ç¼–è¾‘å™¨çš„è®¨è®º](https://hacpai.com/article/1579414663700)
* [Vditor å®ç° Markdown æ‰€è§å³æ‰€å¾—](https://hacpai.com/article/1577370404903)
* [Lute ä¸€æ¬¾å¯¹ä¸­æ–‡è¯­å¢ƒä¼˜åŒ–çš„ Markdown å¼•æ“ï¼Œæ”¯æŒ Go å’Œ JavaScript](https://hacpai.com/article/1567047822949)

### ç¯å¢ƒ

1. å®‰è£… [node](https://nodejs.org/) LTS ç‰ˆæœ¬
2. [ä¸‹è½½](https://github.com/Vanessa219/vditor/archive/master.zip) æœ€æ–°ä»£ç å¹¶è§£å‹
3. æ ¹ç›®å½•è¿è¡Œ `npm install`
4. `npm run start` å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œæ‰“å¼€ http://localhost:9000
5. ä¿®æ”¹ä»£ç 
6. `npm run build` æ‰“åŒ…ä»£ç åˆ° dist ç›®å½•

### CDN åˆ‡æ¢

ç”±äºä½¿ç”¨äº†æŒ‰éœ€åŠ è½½çš„æœºåˆ¶ï¼Œé»˜è®¤ CDN ä¸º [https://cdn.jsdelivr.net/npm/vditor](https://cdn.jsdelivr.net/npm/vditor)@ç‰ˆæœ¬å·

å¦‚æœä»£ç æœ‰ä¿®æ”¹æˆ–éœ€è¦ä½¿ç”¨è‡ªå»º CDN çš„è¯ï¼Œå¯æŒ‰ä»¥ä¸‹æ­¥éª¤è¿›è¡Œæ“ä½œï¼š

* åˆå§‹åŒ–çš„ `options` åŠ `IPreviewOptions` ä¸­éœ€æ·»åŠ  `cdn` é…ç½®
* `highlightRender` , `mathRender` , `abcRender` , `chartRender` , `mermaidRender` æ–¹æ³•ä¸­éœ€æ·»åŠ  cdn å‚æ•°
* å°† build æˆåŠŸçš„ dist ç›®å½•æˆ– [jsDelivr](https://www.jsdelivr.com/package/npm/vditor?path=dist) ä¸­çš„ dist ç›®å½•æ‹·è´è‡³æ­£ç¡®çš„ä½ç½®

### å‡çº§

ç‰ˆæœ¬å‡çº§æ—¶è¯·**ä»”ç»†é˜…è¯»** [CHANGELOG](https://github.com/Vanessa219/vditor/blob/master/CHANGELOG.md) ä¸­çš„**å‡çº§**éƒ¨åˆ†

## â“‚ï¸ Markdown ä½¿ç”¨æŒ‡å—

* [åŸºç¡€è¯­æ³•](https://hacpai.com/article/1583129520165)
* [æ‰©å±•è¯­æ³•](https://hacpai.com/article/1583305480675)
* [é€ŸæŸ¥æ‰‹å†Œ](https://hacpai.com/article/1583308420519)

## ğŸ˜ï¸ ç¤¾åŒº

* [è®¨è®ºåŒº](https://hacpai.com/tag/vditor)
* [æŠ¥å‘Šé—®é¢˜](https://github.com/Vanessa219/vditor/issues/new)

## ğŸ“„ æˆæƒ

Vditor ä½¿ç”¨ [MIT](https://opensource.org/licenses/MIT) å¼€æºåè®®ã€‚

## ğŸ™ é¸£è°¢

* [Lute](https://github.com/88250/lute)ï¼šğŸ¼ ä¸€æ¬¾ç»“æ„åŒ–çš„ Markdown å¼•æ“ï¼Œæ”¯æŒ Go å’Œ JavaScript
* [highlight.js](https://github.com/highlightjs/highlight.js)ï¼šJavaScript syntax highlighter
* [mermaid](https://github.com/knsv/mermaid)ï¼šGeneration of diagram and flowchart from text in a similar manner as Markdown
* [incubator-echarts](https://github.com/apache/incubator-echarts)ï¼šA powerful, interactive charting and visualization library for browser
* [abcjs](https://github.com/paulrosen/abcjs)ï¼šJavaScript library for rendering standard music notation in a browser
